# ArtsGallery

You will be creating a full-stack application to save paintings into a gallery by uploading them and saving them into a database. In order to do this you will be using MongoDB with the [Mongoose ODM](http://mongoosejs.com/). Your front end will display views created from data in the database. You will use [ReactJS](https://facebook.github.io/react/) for that, and will serve your application with a [NodeJS](https://nodejs.org/) web server, using [ExpressJS](https://expressjs.com/).

Please work on the following features **in order**, moving on to the next feature only after the one you are working on is complete. **Please commit WORKING code early and often**. In addition, after each step, please follow the guidelines for a commit message.

### Part 1 - Paintings Gallery

1. **As a user**, I want to be able to view the paintings I have in my gallery. If no paintings are present in the database, I will have to see a message indicating that `No paintings in Gallery` and a button to upload new ones.

To implement this user story, you should:

- Write an ExpressJS web server that listens to request on port `8000`.
- Run this command a brand new React App in a folder named `client`. Then navigate to it.
  ```
  npx create-react-app client
  cd client/
  ```
- You may want to use [React Router](https://reactrouter.com/) or [Conditional Rendering](https://www.reactjs.org/docs/conditional-rendering.html) to navigate between components.
- Write a script that would add the dummy data to your database when `npm run seed-database` is run from the command line. Add this command to the `package.json` to be able to run it with `npm`. When you have this working, run the command so that your database is populated.
  \_Note: Create a Painting Schema under `server/models/Painting.js`. It should have these following attributes:
  - `id`: Number
  - `artist`: String _(for the author field)_
  - `name`: String
  - `year`: Number
- Complete the route `/api/paintings` in `server/routes/paintings.routes.js` so that requests to this route are responded to with the data for all the paintings, retrieved from the database.
- You can use the `dummy_data.js` for your front end views. Then, you can refactor your front end to retrieve seed data from the server rather than using the dummy data.
- Render each painting in a `Card` containing the image, the name, the artist, and the date.
- **WHEN COMPLETE AND WORKING, make a commit that says `Part 1 Complete`**

### Part 2 - Create new Paintings

1. **As a user**, I want to be able to create new Paintings and save them in the database. First, make this feature work with a simple form where the user can manually input:

- Name
- Artist
- Year
- Painting url
  For consistency, use real data from the internet when you test your application.

2. **As a user**, I want to be able create new Paintings by uploading images from my local machine.
   For this, you should:

- Add an input of type `file` to your form where user can upload images
- Use `FormData` to send a request including data and files
- Use [multer](https://www.npmjs.com/package/multer) to handle requests including files
- Use [Cloudinary](https://cloudinary.com/) to store images in the cloud and generate urls
- Save the Painting with the data from the inputs and the url generated by Cloudinary

- **WHEN COMPLETE AND WORKING, make a commit that says `Part 2 Complete`**

### Part 3 - Edit Existing Paintings

1. **As a user**, I want to update existing paintings in the database.

- With every Painting Card, there should be an `Edit` button.
- When the user clicks on `Edit`, a new `Modal` should be rendered
- The `Modal` will contain a **prefilled** form with the data of the selected painting
- The user can click on `Cancel` to close the Modal
- The user can update the data and click on `save`
- The modal will be closed and the data of the painting will be updated in the `PaitningList` component

- **WHEN COMPLETE AND WORKING, make a commit that says `Part 3 Complete`**

### Part 4 - Delete Painting

1. **As a user**, I want to be able to delete existing paintings from the database

- Each painting card will contain a `Delete` button
- When the user clicks on the `Delete` button, a `Modal` will be rendered with 2 options: `Confirm` and `Cancel`
- Clicking on `Confirm` will delete the painting and close the modal
- The painting will no longuer exist in the `PaintingList` component

- **WHEN COMPLETE AND WORKING, make a commit that says `Part 4 Complete`**

### API Structure

> **Pro tip:** Install and use [Postman](https://www.getpostman.com/) to test your API routes for this section

Using the existing code provided in `server/`, follow the steps below to build out a Paintings API:

|        URL         | HTTP Verb | Request Body |                                 Result                                 |
| :----------------: | :-------: | :----------: | :--------------------------------------------------------------------: |
|   /api/paintings   |    GET    |    empty     |                      Return JSON of all Paintings                      |
|   /api/paintings   |   POST    |     JSON     |        Create new Painting and return JSON of created Painting         |
| /api/paintings/:id |  DELETE   |    empty     |         Return JSON of single Painting with matching `number`          |
| /api/paintings/:id |    PUT    |   FormData   | Update Painting with matching `id` and return JSON of updated Painting |

## Available Resources

- [Stack Overflow](http://stackoverflow.com/)
- [MDN](https://developer.mozilla.org/)
- [ExpressJS Docs](https://expressjs.com/)
- [Body Parser Middleware Docs](https://github.com/expressjs/body-parser)
- [Mongo Docs](https://www.mongodb.com/)
- [Mongoose ODM Docs](http://mongoosejs.com/)
- [Cloudinary API](https://cloudinary.com/documentation/node_integration)
- [ReactJS Docs](https://facebook.github.io/react/)
- [React Router Docs](https://github.com/ReactTraining/react-router/tree/master/docs)
- [NodeJS Docs](https://nodejs.org/)
- [Academind Node-Multer](https://www.youtube.com/watch?v=srPXMt1Q0nY&ab_channel=Academind) to learn how to handle uploaded images in Node
- [Academind React Image Upload](https://www.youtube.com/watch?v=XeiOnkEI7XI&ab_channel=Academind) to learn how to upload images in React
- [Postman](https://www.getpostman.com/)
- Docs for any npm packages you might use
